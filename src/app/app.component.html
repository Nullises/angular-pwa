<div class="container-fluid py-3">
  <div class="row my-10 ms-5 me-5">
    <div class="card container py-2">
      <div class="row my-2">
        <div class="col text-end">
          Status:
        </div>
        <div class="col">
          <span class="badge bg-success" *ngIf="isOnline">Online</span>
          <span class="badge bg-danger" *ngIf="!isOnline">Offline</span>
        </div>
      </div>
      <div class="d-flex justify-content-center my-5 mb-3">
        <img src="../assets/icons/icon-512x512.png" alt="Mocafi-Logo" width="48" height="48">
      </div>
      <form class="needs-validation" [formGroup]="changeCardHolderForm" (submit)="updateCardHolder()" novalidate>
        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="uniqueGuid" class="form-label">Unique GUID</label>
              <input formControlName="uniqueGuid" type="text" class="form-control" id="uniqueGuid" required>
              <div class="invalid-feedback">
                <span>uniqueGuid is Required</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="householdId" class="form-label">Household ID</label>
              <input formControlName="householdId" type="text" class="form-control" id="householdId" required>
              <div class="invalid-feedback">
                <span>householdId is Required</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="clientId" class="form-label">Client ID</label>
              <input type="text"  formControlName="clientId" class="form-control" id="clientId" required>
              <div class="invalid-feedback">
                <span>clientId is Required</span>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="firstname" class="form-label">First Name</label>
              <input formControlName="firstname"  type="text" class="form-control" id="firstname" required>
              <div class="invalid-feedback">
                <span>firstname is Required</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="lastname" class="form-label">Last Name</label>
              <input type="text" formControlName="lastname" class="form-control" id="lastname" required>
              <div class="invalid-feedback">
                <span>lastname is Required</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="advance-search-group-container">
              <div class="mb-3">
                <label class="mb-2" for="transactionDateTime">Date of Birth</label>
                <input type="date"  formControlName="dob" class="form-control" placeholder="Enter Date of Birth" id="dob" />
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" formControlName="email"  class="form-control" id="email" optional>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="phone" class="form-label">Phone</label>
              <input type="text" formControlName="phone"  class="form-control" id="phone" optional>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="address" class="form-label">Address</label>
              <input type="text" formControlName="address"  class="form-control" id="address" optional>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="apt" class="form-label">Apt</label>
              <input type="text" formControlName="apt" class="form-control" id="apt" optional>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="city" class="form-label">City</label>
              <input type="text" formControlName="city" class="form-control" id="city" optional>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="state" class="form-label">State</label>
              <input type="text" formControlName="state" class="form-control" id="state" optional>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="zip" class="form-label">Zip</label>
              <input type="text" formControlName="zip" class="form-control" id="zip" optional>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="allocatedAmount" class="form-label">Allocated Amount</label>
              <select class="form-select" formControlName="allocatedAmount" id="allocatedAmount" required>
                <option value="100">$100</option>
                <option value="500">$500</option>
                <option value="1000">$1000</option>
              </select>
              <div class="invalid-feedback">
                <span>allocatedAmount is Required</span>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="mb-3">
              <label for="cc" class="form-label">Last 4 numbers of CC</label>
              <input type="text" formControlName="cc" class="form-control" id="cc" optional>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-center my-1">
          <button class="btn main" type="submit">Send</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="w-100 position-absolute top-0" *ngIf="modalVersion">
  <div class="alert alert-secondary m-2">
    <button type="button" class="btn-close position-absolute top-0 end-0 m-1" aria-label="Close"
      (click)="closeVersion()"></button>
    A new version of this app is available. <a href="" (click)="updateVersion()">Update now</a>
  </div>
</div>

<div class="w-100 position-absolute bottom-0" *ngIf="modalPwaPlatform === 'ANDROID' || modalPwaPlatform === 'IOS'">

  <div class="alert alert-secondary m-2">
    <button type="button" class="btn-close position-absolute top-0 end-0 m-1" aria-label="Close"
      (click)="closePwa()"></button>
    <!-- Android -->
    <div *ngIf="modalPwaPlatform === 'ANDROID'" (click)="addToHomeScreen()">
      Add this WEB app to home screen
    </div>
    <!-- iOS with Safari -->
    <div *ngIf="modalPwaPlatform === 'IOS'">
      To install this WEB app on your device, tap the "Menu" button
      <img
        src="https://res.cloudinary.com/rodrigokamada/image/upload/v1641089482/Blog/angular-pwa/safari_action_button_38x50.png"
        class="ios-menu m-0" />
      and then "Add to home screen" button
      <i class="bi bi-plus-square"></i>
    </div>
  </div>
</div>